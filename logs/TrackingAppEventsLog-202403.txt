2024-03-03 20:56:44.645 +00:00 [INF] User profile is available. Using '/Users/joshuaaddai-marnu/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-03-03 20:56:44.702 +00:00 [INF] Now listening on: http://localhost:5186
2024-03-03 20:56:44.703 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-03 20:56:44.703 +00:00 [INF] Hosting environment: Development
2024-03-03 20:56:44.703 +00:00 [INF] Content root path: /Users/joshuaaddai-marnu/Desktop/ShopSite.CW.WebApp
2024-03-03 20:57:11.188 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Categories - null null
2024-03-03 20:57:11.229 +00:00 [WRN] Failed to determine the https port for redirect.
2024-03-03 20:57:11.230 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp)'
2024-03-03 20:57:11.237 +00:00 [INF] Route matched with {action = "GetCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ShopSite.CW.WebApp.Models.Category]]] GetCategories() on controller ShopSite.CW.WebApp.Controllers.CategoriesController (ShopSite.CW.WebApp).
2024-03-03 20:57:11.656 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CategoryId", "c"."Description", "c"."Name"
FROM "Categories" AS "c"
2024-03-03 20:57:11.681 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShopSite.CW.WebApp.Models.Category, ShopSite.CW.WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-03 20:57:11.695 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp) in 456.476ms
2024-03-03 20:57:11.696 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp)'
2024-03-03 20:57:11.698 +00:00 [INF] HTTP GET /api/Categories responded 200 in 467.8831 ms
2024-03-03 20:57:11.701 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Categories - 200 null application/json; charset=utf-8 513.2153ms
2024-03-03 20:57:14.320 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Categories - null null
2024-03-03 20:57:14.329 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp)'
2024-03-03 20:57:14.330 +00:00 [INF] Route matched with {action = "GetCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ShopSite.CW.WebApp.Models.Category]]] GetCategories() on controller ShopSite.CW.WebApp.Controllers.CategoriesController (ShopSite.CW.WebApp).
2024-03-03 20:57:14.349 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CategoryId", "c"."Description", "c"."Name"
FROM "Categories" AS "c"
2024-03-03 20:57:14.350 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShopSite.CW.WebApp.Models.Category, ShopSite.CW.WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-03 20:57:14.351 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp) in 20.5949ms
2024-03-03 20:57:14.351 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp)'
2024-03-03 20:57:14.351 +00:00 [INF] HTTP GET /api/Categories responded 200 in 21.9713 ms
2024-03-03 20:57:14.351 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Categories - 200 null application/json; charset=utf-8 31.5868ms
2024-03-03 20:57:16.010 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Categories - null null
2024-03-03 20:57:16.016 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp)'
2024-03-03 20:57:16.017 +00:00 [INF] Route matched with {action = "GetCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ShopSite.CW.WebApp.Models.Category]]] GetCategories() on controller ShopSite.CW.WebApp.Controllers.CategoriesController (ShopSite.CW.WebApp).
2024-03-03 20:57:16.069 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CategoryId", "c"."Description", "c"."Name"
FROM "Categories" AS "c"
2024-03-03 20:57:16.069 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShopSite.CW.WebApp.Models.Category, ShopSite.CW.WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-03 20:57:16.070 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp) in 52.8176ms
2024-03-03 20:57:16.070 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp)'
2024-03-03 20:57:16.070 +00:00 [INF] HTTP GET /api/Categories responded 200 in 53.7533 ms
2024-03-03 20:57:16.070 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Categories - 200 null application/json; charset=utf-8 60.1698ms
2024-03-03 20:58:47.487 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Account/login - application/json 75
2024-03-03 20:58:47.488 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.AccountController.Login (ShopSite.CW.WebApp)'
2024-03-03 20:58:47.502 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShopSite.CW.WebApp.Models.AuthModel) on controller ShopSite.CW.WebApp.Controllers.AccountController (ShopSite.CW.WebApp).
2024-03-03 20:58:47.562 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-03-03 20:58:47.639 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0
2024-03-03 20:58:47.648 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2024-03-03 20:58:47.652 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-03-03 20:58:47.655 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-03-03 20:58:47.657 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2024-03-03 20:58:47.669 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-03-03 20:58:47.670 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.AccountController.Login (ShopSite.CW.WebApp) in 167.5542ms
2024-03-03 20:58:47.670 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.AccountController.Login (ShopSite.CW.WebApp)'
2024-03-03 20:58:47.670 +00:00 [INF] HTTP POST /api/Account/login responded 200 in 182.0732 ms
2024-03-03 20:58:47.670 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Account/login - 200 null application/json; charset=utf-8 183.7876ms
2024-03-03 21:02:09.620 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Roles - null null
2024-03-03 21:02:09.664 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.RolesController.GetRoles (ShopSite.CW.WebApp)'
2024-03-03 21:02:09.665 +00:00 [INF] Route matched with {action = "GetRoles", controller = "Roles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetRoles() on controller ShopSite.CW.WebApp.Controllers.RolesController (ShopSite.CW.WebApp).
2024-03-03 21:02:09.675 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
2024-03-03 21:02:09.682 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Microsoft.AspNetCore.Identity.IdentityRole, Microsoft.Extensions.Identity.Stores, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2024-03-03 21:02:09.683 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.RolesController.GetRoles (ShopSite.CW.WebApp) in 17.3519ms
2024-03-03 21:02:09.683 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.RolesController.GetRoles (ShopSite.CW.WebApp)'
2024-03-03 21:02:09.683 +00:00 [INF] HTTP GET /api/Roles responded 200 in 18.9253 ms
2024-03-03 21:02:09.683 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Roles - 200 null application/json; charset=utf-8 62.9839ms
2024-03-03 21:14:58.772 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Categories - null null
2024-03-03 21:14:58.773 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp)'
2024-03-03 21:14:58.773 +00:00 [INF] Route matched with {action = "GetCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ShopSite.CW.WebApp.Models.Category]]] GetCategories() on controller ShopSite.CW.WebApp.Controllers.CategoriesController (ShopSite.CW.WebApp).
2024-03-03 21:14:58.778 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CategoryId", "c"."Description", "c"."Name"
FROM "Categories" AS "c"
2024-03-03 21:14:58.779 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShopSite.CW.WebApp.Models.Category, ShopSite.CW.WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-03 21:14:58.779 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp) in 6.3848ms
2024-03-03 21:14:58.782 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp)'
2024-03-03 21:14:58.782 +00:00 [INF] HTTP GET /api/Categories responded 200 in 9.0874 ms
2024-03-03 21:14:58.782 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Categories - 200 null application/json; charset=utf-8 10.7135ms
2024-03-03 21:15:43.267 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Categories/ - application/json 40
2024-03-03 21:15:43.271 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.PostCategory (ShopSite.CW.WebApp)'
2024-03-03 21:15:43.278 +00:00 [INF] Route matched with {action = "PostCategory", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ShopSite.CW.WebApp.Models.Category]] PostCategory(ShopSite.CW.WebApp.Models.Category) on controller ShopSite.CW.WebApp.Controllers.CategoriesController (ShopSite.CW.WebApp).
2024-03-03 21:15:43.332 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("CategoryId", "Description", "Name")
VALUES (@p0, @p1, @p2);
2024-03-03 21:15:43.336 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ShopSite.CW.WebApp.Models.Category'.
2024-03-03 21:15:43.344 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.CategoriesController.PostCategory (ShopSite.CW.WebApp) in 65.4551ms
2024-03-03 21:15:43.344 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.PostCategory (ShopSite.CW.WebApp)'
2024-03-03 21:15:43.344 +00:00 [INF] HTTP POST /api/Categories/ responded 201 in 72.3626 ms
2024-03-03 21:15:43.344 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Categories/ - 201 null application/json; charset=utf-8 77.2997ms
2024-03-03 22:15:01.961 +00:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5186/api/Categories/1 - null null
2024-03-03 22:15:01.965 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.DeleteCategory (ShopSite.CW.WebApp)'
2024-03-03 22:15:01.971 +00:00 [INF] Route matched with {action = "DeleteCategory", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCategory(Int32) on controller ShopSite.CW.WebApp.Controllers.CategoriesController (ShopSite.CW.WebApp).
2024-03-03 22:15:01.987 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CategoryId", "c"."Description", "c"."Name"
FROM "Categories" AS "c"
WHERE "c"."CategoryId" = @__p_0
LIMIT 1
2024-03-03 22:15:01.993 +00:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Categories"
WHERE "CategoryId" = @p0
RETURNING 1;
2024-03-03 22:15:02.001 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'ShopSite.CW.WebApp.Models.ShopContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-03-03 22:15:02.002 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.CategoriesController.DeleteCategory (ShopSite.CW.WebApp) in 30.5622ms
2024-03-03 22:15:02.002 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.DeleteCategory (ShopSite.CW.WebApp)'
2024-03-03 22:15:02.002 +00:00 [ERR] HTTP DELETE /api/Categories/1 responded 500 in 37.7884 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShopSite.CW.WebApp.Controllers.CategoriesController.DeleteCategory(Int32 id) in /Users/joshuaaddai-marnu/Desktop/ShopSite.CW.WebApp/Controllers/CategoriesController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-03-03 22:15:02.006 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShopSite.CW.WebApp.Controllers.CategoriesController.DeleteCategory(Int32 id) in /Users/joshuaaddai-marnu/Desktop/ShopSite.CW.WebApp/Controllers/CategoriesController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-03 22:15:02.010 +00:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5186/api/Categories/1 - 500 null text/plain; charset=utf-8 49.2622ms
2024-03-03 22:16:20.438 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Categories/ - application/json 44
2024-03-03 22:16:20.440 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.PostCategory (ShopSite.CW.WebApp)'
2024-03-03 22:16:20.440 +00:00 [INF] Route matched with {action = "PostCategory", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ShopSite.CW.WebApp.Models.Category]] PostCategory(ShopSite.CW.WebApp.Models.Category) on controller ShopSite.CW.WebApp.Controllers.CategoriesController (ShopSite.CW.WebApp).
2024-03-03 22:16:20.448 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("CategoryId", "Description", "Name")
VALUES (@p0, @p1, @p2);
2024-03-03 22:16:20.449 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ShopSite.CW.WebApp.Models.Category'.
2024-03-03 22:16:20.450 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.CategoriesController.PostCategory (ShopSite.CW.WebApp) in 7.2815ms
2024-03-03 22:16:20.451 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.PostCategory (ShopSite.CW.WebApp)'
2024-03-03 22:16:20.451 +00:00 [INF] HTTP POST /api/Categories/ responded 201 in 11.4121 ms
2024-03-03 22:16:20.451 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Categories/ - 201 null application/json; charset=utf-8 13.2985ms
2024-03-03 22:16:45.274 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Categories/ - application/json 41
2024-03-03 22:16:45.276 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.PostCategory (ShopSite.CW.WebApp)'
2024-03-03 22:16:45.277 +00:00 [INF] Route matched with {action = "PostCategory", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ShopSite.CW.WebApp.Models.Category]] PostCategory(ShopSite.CW.WebApp.Models.Category) on controller ShopSite.CW.WebApp.Controllers.CategoriesController (ShopSite.CW.WebApp).
2024-03-03 22:16:45.284 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("CategoryId", "Description", "Name")
VALUES (@p0, @p1, @p2);
2024-03-03 22:16:45.284 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ShopSite.CW.WebApp.Models.Category'.
2024-03-03 22:16:45.285 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.CategoriesController.PostCategory (ShopSite.CW.WebApp) in 7.2182ms
2024-03-03 22:16:45.285 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.PostCategory (ShopSite.CW.WebApp)'
2024-03-03 22:16:45.285 +00:00 [INF] HTTP POST /api/Categories/ responded 201 in 8.3388 ms
2024-03-03 22:16:45.285 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Categories/ - 201 null application/json; charset=utf-8 10.4235ms
2024-03-03 22:17:26.991 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Categories/ - application/json 51
2024-03-03 22:17:26.992 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.PostCategory (ShopSite.CW.WebApp)'
2024-03-03 22:17:26.993 +00:00 [INF] Route matched with {action = "PostCategory", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ShopSite.CW.WebApp.Models.Category]] PostCategory(ShopSite.CW.WebApp.Models.Category) on controller ShopSite.CW.WebApp.Controllers.CategoriesController (ShopSite.CW.WebApp).
2024-03-03 22:17:27.002 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("CategoryId", "Description", "Name")
VALUES (@p0, @p1, @p2);
2024-03-03 22:17:27.003 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ShopSite.CW.WebApp.Models.Category'.
2024-03-03 22:17:27.003 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.CategoriesController.PostCategory (ShopSite.CW.WebApp) in 9.8364ms
2024-03-03 22:17:27.004 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.PostCategory (ShopSite.CW.WebApp)'
2024-03-03 22:17:27.005 +00:00 [INF] HTTP POST /api/Categories/ responded 201 in 12.1695 ms
2024-03-03 22:17:27.006 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Categories/ - 201 null application/json; charset=utf-8 13.7665ms
2024-03-03 22:19:56.091 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Suppliers - application/json 127
2024-03-03 22:19:56.094 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.SuppliersController.PostSupplier (ShopSite.CW.WebApp)'
2024-03-03 22:19:56.101 +00:00 [INF] Route matched with {action = "PostSupplier", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ShopSite.CW.WebApp.Models.Supplier]] PostSupplier(ShopSite.CW.WebApp.Models.Supplier) on controller ShopSite.CW.WebApp.Controllers.SuppliersController (ShopSite.CW.WebApp).
2024-03-03 22:19:56.126 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 2), @p2='?' (Size = 17), @p3='?', @p4='?' (Size = 5), @p5='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "suppliers" ("SupplierId", "Address", "ContactEmail", "ContactName", "Name", "Phone")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-03-03 22:19:56.126 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ShopSite.CW.WebApp.Models.Supplier'.
2024-03-03 22:19:56.127 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.SuppliersController.PostSupplier (ShopSite.CW.WebApp) in 25.4038ms
2024-03-03 22:19:56.127 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.SuppliersController.PostSupplier (ShopSite.CW.WebApp)'
2024-03-03 22:19:56.127 +00:00 [INF] HTTP POST /api/Suppliers responded 201 in 33.7801 ms
2024-03-03 22:19:56.127 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Suppliers - 201 null application/json; charset=utf-8 36.3465ms
2024-03-03 22:21:21.534 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Suppliers - application/json 138
2024-03-03 22:21:21.536 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.SuppliersController.PostSupplier (ShopSite.CW.WebApp)'
2024-03-03 22:21:21.537 +00:00 [INF] Route matched with {action = "PostSupplier", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ShopSite.CW.WebApp.Models.Supplier]] PostSupplier(ShopSite.CW.WebApp.Models.Supplier) on controller ShopSite.CW.WebApp.Controllers.SuppliersController (ShopSite.CW.WebApp).
2024-03-03 22:21:21.548 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 2), @p2='?' (Size = 21), @p3='?', @p4='?' (Size = 12), @p5='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "suppliers" ("SupplierId", "Address", "ContactEmail", "ContactName", "Name", "Phone")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-03-03 22:21:21.548 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ShopSite.CW.WebApp.Models.Supplier'.
2024-03-03 22:21:21.548 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.SuppliersController.PostSupplier (ShopSite.CW.WebApp) in 11.1857ms
2024-03-03 22:21:21.548 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.SuppliersController.PostSupplier (ShopSite.CW.WebApp)'
2024-03-03 22:21:21.548 +00:00 [INF] HTTP POST /api/Suppliers responded 201 in 11.9668 ms
2024-03-03 22:21:21.548 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Suppliers - 201 null application/json; charset=utf-8 14.3693ms
2024-03-03 22:23:11.860 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Products - application/json 145
2024-03-03 22:23:11.863 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-03-03 22:23:11.869 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-03 22:23:11.869 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Products - 401 0 null 9.832ms
2024-03-03 22:23:17.945 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Products - application/json 145
2024-03-03 22:23:17.946 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-03-03 22:23:17.946 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-03 22:23:17.946 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Products - 401 0 null 0.5728ms
2024-03-03 22:23:30.528 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Products - application/json 145
2024-03-03 22:23:30.534 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.PostProduct (ShopSite.CW.WebApp)'
2024-03-03 22:23:30.538 +00:00 [INF] Route matched with {action = "PostProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ShopSite.CW.WebApp.Models.Product]] PostProduct(ShopSite.CW.WebApp.Models.Product) on controller ShopSite.CW.WebApp.Controllers.ProductsController (ShopSite.CW.WebApp).
2024-03-03 22:23:30.564 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 23), @p3='?' (DbType = Binary), @p4='?', @p5='?' (Size = 5), @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "products" ("CategoryId", "CreatedOn", "Description", "ImageData", "ImageMimeType", "Name", "Price", "StockQuantity", "SupplierId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "ProductId";
2024-03-03 22:23:30.572 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ShopSite.CW.WebApp.Models.Product'.
2024-03-03 22:23:30.574 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.ProductsController.PostProduct (ShopSite.CW.WebApp) in 35.4389ms
2024-03-03 22:23:30.574 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.PostProduct (ShopSite.CW.WebApp)'
2024-03-03 22:23:30.574 +00:00 [INF] HTTP POST /api/Products responded 201 in 40.5243 ms
2024-03-03 22:23:30.574 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Products - 201 null application/json; charset=utf-8 46.2012ms
2024-03-03 22:29:26.194 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Products - application/json 151
2024-03-03 22:29:26.196 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.PostProduct (ShopSite.CW.WebApp)'
2024-03-03 22:29:26.197 +00:00 [INF] Route matched with {action = "PostProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ShopSite.CW.WebApp.Models.Product]] PostProduct(ShopSite.CW.WebApp.Models.Product) on controller ShopSite.CW.WebApp.Controllers.ProductsController (ShopSite.CW.WebApp).
2024-03-03 22:29:26.206 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 25), @p3='?' (DbType = Binary), @p4='?', @p5='?' (Size = 9), @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "products" ("CategoryId", "CreatedOn", "Description", "ImageData", "ImageMimeType", "Name", "Price", "StockQuantity", "SupplierId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "ProductId";
2024-03-03 22:29:26.210 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ShopSite.CW.WebApp.Models.Product'.
2024-03-03 22:29:26.211 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.ProductsController.PostProduct (ShopSite.CW.WebApp) in 13.8725ms
2024-03-03 22:29:26.211 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.PostProduct (ShopSite.CW.WebApp)'
2024-03-03 22:29:26.211 +00:00 [INF] HTTP POST /api/Products responded 201 in 14.5734 ms
2024-03-03 22:29:26.211 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Products - 201 null application/json; charset=utf-8 17.281ms
2024-03-03 22:31:03.181 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Products - null null
2024-03-03 22:31:03.182 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.Getproducts (ShopSite.CW.WebApp)'
2024-03-03 22:31:03.186 +00:00 [INF] Route matched with {action = "Getproducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ShopSite.CW.WebApp.Models.Product]]] Getproducts() on controller ShopSite.CW.WebApp.Controllers.ProductsController (ShopSite.CW.WebApp).
2024-03-03 22:31:03.210 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."ProductId", "p"."CategoryId", "p"."CreatedOn", "p"."Description", "p"."ImageData", "p"."ImageMimeType", "p"."Name", "p"."Price", "p"."StockQuantity", "p"."SupplierId", "s"."SupplierId", "s"."Address", "s"."ContactEmail", "s"."ContactName", "s"."Name", "s"."Phone", "c"."CategoryId", "c"."Description", "c"."Name"
FROM "products" AS "p"
LEFT JOIN "suppliers" AS "s" ON "p"."SupplierId" = "s"."SupplierId"
LEFT JOIN "Categories" AS "c" ON "p"."CategoryId" = "c"."CategoryId"
2024-03-03 22:31:03.218 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShopSite.CW.WebApp.Models.Product, ShopSite.CW.WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-03 22:31:03.219 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.ProductsController.Getproducts (ShopSite.CW.WebApp) in 32.5605ms
2024-03-03 22:31:03.219 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.Getproducts (ShopSite.CW.WebApp)'
2024-03-03 22:31:03.219 +00:00 [INF] HTTP GET /api/Products responded 200 in 36.8736 ms
2024-03-03 22:31:03.219 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Products - 200 null application/json; charset=utf-8 38.3699ms
2024-03-03 22:34:56.754 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Products - application/json 145
2024-03-03 22:34:56.756 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.PostProduct (ShopSite.CW.WebApp)'
2024-03-03 22:34:56.757 +00:00 [INF] Route matched with {action = "PostProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ShopSite.CW.WebApp.Models.Product]] PostProduct(ShopSite.CW.WebApp.Models.Product) on controller ShopSite.CW.WebApp.Controllers.ProductsController (ShopSite.CW.WebApp).
2024-03-03 22:34:56.763 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 24), @p3='?' (DbType = Binary), @p4='?', @p5='?' (Size = 4), @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "products" ("CategoryId", "CreatedOn", "Description", "ImageData", "ImageMimeType", "Name", "Price", "StockQuantity", "SupplierId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "ProductId";
2024-03-03 22:34:56.766 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ShopSite.CW.WebApp.Models.Product'.
2024-03-03 22:34:56.767 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.ProductsController.PostProduct (ShopSite.CW.WebApp) in 10.3397ms
2024-03-03 22:34:56.768 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.PostProduct (ShopSite.CW.WebApp)'
2024-03-03 22:34:56.768 +00:00 [INF] HTTP POST /api/Products responded 201 in 11.5091 ms
2024-03-03 22:34:56.768 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Products - 201 null application/json; charset=utf-8 14.3199ms
2024-03-03 22:40:20.414 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Products - application/json 152
2024-03-03 22:40:20.416 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.PostProduct (ShopSite.CW.WebApp)'
2024-03-03 22:40:20.416 +00:00 [INF] Route matched with {action = "PostProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ShopSite.CW.WebApp.Models.Product]] PostProduct(ShopSite.CW.WebApp.Models.Product) on controller ShopSite.CW.WebApp.Controllers.ProductsController (ShopSite.CW.WebApp).
2024-03-03 22:40:20.421 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 23), @p3='?' (DbType = Binary), @p4='?', @p5='?' (Size = 14), @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "products" ("CategoryId", "CreatedOn", "Description", "ImageData", "ImageMimeType", "Name", "Price", "StockQuantity", "SupplierId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "ProductId";
2024-03-03 22:40:20.424 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ShopSite.CW.WebApp.Models.Product'.
2024-03-03 22:40:20.425 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.ProductsController.PostProduct (ShopSite.CW.WebApp) in 8.5859ms
2024-03-03 22:40:20.425 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.PostProduct (ShopSite.CW.WebApp)'
2024-03-03 22:40:20.425 +00:00 [INF] HTTP POST /api/Products responded 201 in 9.4063 ms
2024-03-03 22:40:20.426 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Products - 201 null application/json; charset=utf-8 11.6203ms
2024-03-03 22:45:52.622 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Orders - application/json 272
2024-03-03 22:45:52.624 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2024-03-03 22:45:52.624 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-03 22:45:52.625 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Orders - 401 0 null 2.5602ms
2024-03-03 22:46:03.188 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Orders - application/json 272
2024-03-03 22:46:03.189 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2024-03-03 22:46:03.191 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-03-03 22:46:03.192 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Orders - 403 0 null 3.5537ms
2024-03-03 22:46:44.152 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Orders - application/json 232
2024-03-03 22:46:44.154 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2024-03-03 22:46:44.154 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-03 22:46:44.154 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Orders - 401 0 null 2.1092ms
2024-03-03 22:47:22.041 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Orders - application/json 232
2024-03-03 22:47:22.043 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2024-03-03 22:47:22.043 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-03-03 22:47:22.043 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Orders - 403 0 null 1.9232ms
2024-03-03 22:47:23.973 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Orders - application/json 232
2024-03-03 22:47:23.974 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2024-03-03 22:47:23.974 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-03-03 22:47:23.975 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Orders - 403 0 null 1.4095ms
2024-03-03 22:47:24.568 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Orders - application/json 232
2024-03-03 22:47:24.570 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2024-03-03 22:47:24.570 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-03-03 22:47:24.571 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Orders - 403 0 null 2.2663ms
2024-03-03 22:47:24.958 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Orders - application/json 232
2024-03-03 22:47:24.959 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2024-03-03 22:47:24.959 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-03-03 22:47:24.959 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Orders - 403 0 null 1.206ms
2024-03-03 22:47:27.243 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Orders - application/json 232
2024-03-03 22:47:27.243 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2024-03-03 22:47:27.244 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-03-03 22:47:27.244 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Orders - 403 0 null 1.3083ms
2024-03-03 22:47:28.799 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Orders - application/json 232
2024-03-03 22:47:28.800 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2024-03-03 22:47:28.800 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-03-03 22:47:28.801 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Orders - 403 0 null 1.9772ms
2024-03-03 22:51:35.427 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Account/login - application/json 73
2024-03-03 22:51:35.430 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.AccountController.Login (ShopSite.CW.WebApp)'
2024-03-03 22:51:35.430 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShopSite.CW.WebApp.Models.AuthModel) on controller ShopSite.CW.WebApp.Controllers.AccountController (ShopSite.CW.WebApp).
2024-03-03 22:51:35.443 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-03-03 22:51:35.498 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0
2024-03-03 22:51:35.498 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2024-03-03 22:51:35.502 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2024-03-03 22:51:35.505 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ClaimType", "a"."ClaimValue"
FROM "AspNetRoleClaims" AS "a"
WHERE "a"."RoleId" = @__role_Id_0
2024-03-03 22:51:35.506 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-03-03 22:51:35.506 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-03-03 22:51:35.507 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2024-03-03 22:51:35.507 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-03-03 22:51:35.507 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.AccountController.Login (ShopSite.CW.WebApp) in 76.6564ms
2024-03-03 22:51:35.507 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.AccountController.Login (ShopSite.CW.WebApp)'
2024-03-03 22:51:35.507 +00:00 [INF] HTTP POST /api/Account/login responded 200 in 77.3219 ms
2024-03-03 22:51:35.508 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Account/login - 200 null application/json; charset=utf-8 81.0339ms
2024-03-03 22:52:20.766 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Orders - application/json 232
2024-03-03 22:52:20.768 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2024-03-03 22:52:20.769 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-03-03 22:52:20.769 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Orders - 403 0 null 2.7595ms
2024-03-03 22:53:18.521 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Orders - application/json 272
2024-03-03 22:53:18.523 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2024-03-03 22:53:18.523 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-03-03 22:53:18.524 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Orders - 403 0 null 2.3867ms
2024-03-03 22:53:51.469 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Roles - null null
2024-03-03 22:53:51.471 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.RolesController.GetRoles (ShopSite.CW.WebApp)'
2024-03-03 22:53:51.471 +00:00 [INF] Route matched with {action = "GetRoles", controller = "Roles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetRoles() on controller ShopSite.CW.WebApp.Controllers.RolesController (ShopSite.CW.WebApp).
2024-03-03 22:53:51.473 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
2024-03-03 22:53:51.473 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Microsoft.AspNetCore.Identity.IdentityRole, Microsoft.Extensions.Identity.Stores, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2024-03-03 22:53:51.474 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.RolesController.GetRoles (ShopSite.CW.WebApp) in 2.3956ms
2024-03-03 22:53:51.474 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.RolesController.GetRoles (ShopSite.CW.WebApp)'
2024-03-03 22:53:51.474 +00:00 [INF] HTTP GET /api/Roles responded 200 in 3.2813 ms
2024-03-03 22:53:51.474 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Roles - 200 null application/json; charset=utf-8 5.7156ms
2024-03-03 22:55:42.448 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Suppliers - null null
2024-03-03 22:55:42.449 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.SuppliersController.Getsuppliers (ShopSite.CW.WebApp)'
2024-03-03 22:55:42.457 +00:00 [INF] Route matched with {action = "Getsuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ShopSite.CW.WebApp.Models.Supplier]]] Getsuppliers() on controller ShopSite.CW.WebApp.Controllers.SuppliersController (ShopSite.CW.WebApp).
2024-03-03 22:55:42.464 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."SupplierId", "s"."Address", "s"."ContactEmail", "s"."ContactName", "s"."Name", "s"."Phone"
FROM "suppliers" AS "s"
2024-03-03 22:55:42.465 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShopSite.CW.WebApp.Models.Supplier, ShopSite.CW.WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-03 22:55:42.465 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.SuppliersController.Getsuppliers (ShopSite.CW.WebApp) in 7.6877ms
2024-03-03 22:55:42.465 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.SuppliersController.Getsuppliers (ShopSite.CW.WebApp)'
2024-03-03 22:55:42.465 +00:00 [INF] HTTP GET /api/Suppliers responded 200 in 15.9943 ms
2024-03-03 22:55:42.465 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Suppliers - 200 null application/json; charset=utf-8 17.8002ms
2024-03-03 22:57:57.133 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Roles/assign-role-to-user - application/json 80
2024-03-03 22:57:57.133 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.RolesController.AssignRoleToUser (ShopSite.CW.WebApp)'
2024-03-03 22:57:57.140 +00:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleToUser(ShopSite.CW.WebApp.Models.AssignRoleModel) on controller ShopSite.CW.WebApp.Controllers.RolesController (ShopSite.CW.WebApp).
2024-03-03 22:57:57.159 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2024-03-03 22:57:57.160 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2024-03-03 22:57:57.164 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2024-03-03 22:57:57.167 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2024-03-03 22:57:57.168 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2024-03-03 22:57:57.175 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-03-03 22:57:57.192 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-03-03 22:57:57.196 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 25), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 25), @p7='?' (Size = 25), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2024-03-03 22:57:57.203 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-03 22:57:57.203 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.RolesController.AssignRoleToUser (ShopSite.CW.WebApp) in 62.0909ms
2024-03-03 22:57:57.203 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.RolesController.AssignRoleToUser (ShopSite.CW.WebApp)'
2024-03-03 22:57:57.203 +00:00 [INF] HTTP POST /api/Roles/assign-role-to-user responded 200 in 69.5901 ms
2024-03-03 22:57:57.203 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Roles/assign-role-to-user - 200 null text/plain; charset=utf-8 70.4827ms
2024-03-03 22:58:30.931 +00:00 [INF] Application is shutting down...
2024-03-04 11:43:49.774 +00:00 [INF] User profile is available. Using '/Users/joshuaaddai-marnu/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-03-04 11:43:49.844 +00:00 [INF] Now listening on: http://localhost:5186
2024-03-04 11:43:49.845 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-04 11:43:49.845 +00:00 [INF] Hosting environment: Development
2024-03-04 11:43:49.845 +00:00 [INF] Content root path: /Users/joshuaaddai-marnu/Desktop/ShopSite.CW.WebApp
2024-03-04 11:46:49.821 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Orders - application/json 232
2024-03-04 11:46:49.852 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2024-03-04 11:46:49.853 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-04 11:46:49.857 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Orders - 401 0 null 35.949ms
2024-03-04 11:46:59.144 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Orders - application/json 232
2024-03-04 11:46:59.199 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2024-03-04 11:46:59.200 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-03-04 11:46:59.200 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Orders - 403 0 null 56.3704ms
2024-03-04 11:48:34.952 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Categories - null null
2024-03-04 11:48:34.973 +00:00 [WRN] Failed to determine the https port for redirect.
2024-03-04 11:48:34.975 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp)'
2024-03-04 11:48:34.987 +00:00 [INF] Route matched with {action = "GetCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ShopSite.CW.WebApp.Models.Category]]] GetCategories() on controller ShopSite.CW.WebApp.Controllers.CategoriesController (ShopSite.CW.WebApp).
2024-03-04 11:48:35.529 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CategoryId", "c"."Description", "c"."Name"
FROM "Categories" AS "c"
2024-03-04 11:48:35.560 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShopSite.CW.WebApp.Models.Category, ShopSite.CW.WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-04 11:48:35.574 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp) in 585.4124ms
2024-03-04 11:48:35.574 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategories (ShopSite.CW.WebApp)'
2024-03-04 11:48:35.575 +00:00 [INF] HTTP GET /api/Categories responded 200 in 601.8225 ms
2024-03-04 11:48:35.578 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Categories - 200 null application/json; charset=utf-8 626.272ms
2024-03-04 11:48:52.416 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Categories/7 - null null
2024-03-04 11:48:52.420 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategory (ShopSite.CW.WebApp)'
2024-03-04 11:48:52.435 +00:00 [INF] Route matched with {action = "GetCategory", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ShopSite.CW.WebApp.Models.Category]] GetCategory(Int32) on controller ShopSite.CW.WebApp.Controllers.CategoriesController (ShopSite.CW.WebApp).
2024-03-04 11:48:52.490 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CategoryId", "c"."Description", "c"."Name"
FROM "Categories" AS "c"
WHERE "c"."CategoryId" = @__p_0
LIMIT 1
2024-03-04 11:48:52.491 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-03-04 11:48:52.500 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategory (ShopSite.CW.WebApp) in 64.4814ms
2024-03-04 11:48:52.500 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategory (ShopSite.CW.WebApp)'
2024-03-04 11:48:52.500 +00:00 [INF] HTTP GET /api/Categories/7 responded 404 in 80.2996 ms
2024-03-04 11:48:52.500 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Categories/7 - 404 null application/problem+json; charset=utf-8 84.1078ms
2024-03-04 11:48:58.755 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Categories/4 - null null
2024-03-04 11:48:58.757 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategory (ShopSite.CW.WebApp)'
2024-03-04 11:48:58.757 +00:00 [INF] Route matched with {action = "GetCategory", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ShopSite.CW.WebApp.Models.Category]] GetCategory(Int32) on controller ShopSite.CW.WebApp.Controllers.CategoriesController (ShopSite.CW.WebApp).
2024-03-04 11:48:58.798 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CategoryId", "c"."Description", "c"."Name"
FROM "Categories" AS "c"
WHERE "c"."CategoryId" = @__p_0
LIMIT 1
2024-03-04 11:48:58.798 +00:00 [INF] Executing ObjectResult, writing value of type 'ShopSite.CW.WebApp.Models.Category'.
2024-03-04 11:48:58.798 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategory (ShopSite.CW.WebApp) in 41.0768ms
2024-03-04 11:48:58.798 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategory (ShopSite.CW.WebApp)'
2024-03-04 11:48:58.798 +00:00 [INF] HTTP GET /api/Categories/4 responded 200 in 41.8015 ms
2024-03-04 11:48:58.799 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Categories/4 - 200 null application/json; charset=utf-8 43.931ms
2024-03-04 11:49:04.828 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Categories/2 - null null
2024-03-04 11:49:04.829 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategory (ShopSite.CW.WebApp)'
2024-03-04 11:49:04.829 +00:00 [INF] Route matched with {action = "GetCategory", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ShopSite.CW.WebApp.Models.Category]] GetCategory(Int32) on controller ShopSite.CW.WebApp.Controllers.CategoriesController (ShopSite.CW.WebApp).
2024-03-04 11:49:04.833 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CategoryId", "c"."Description", "c"."Name"
FROM "Categories" AS "c"
WHERE "c"."CategoryId" = @__p_0
LIMIT 1
2024-03-04 11:49:04.834 +00:00 [INF] Executing ObjectResult, writing value of type 'ShopSite.CW.WebApp.Models.Category'.
2024-03-04 11:49:04.835 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategory (ShopSite.CW.WebApp) in 5.2371ms
2024-03-04 11:49:04.835 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.CategoriesController.GetCategory (ShopSite.CW.WebApp)'
2024-03-04 11:49:04.835 +00:00 [INF] HTTP GET /api/Categories/2 responded 200 in 6.0386 ms
2024-03-04 11:49:04.835 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Categories/2 - 200 null application/json; charset=utf-8 7.1884ms
2024-03-04 11:49:19.490 +00:00 [INF] Application is shutting down...
2024-03-04 13:35:44.326 +00:00 [INF] User profile is available. Using '/Users/joshuaaddai-marnu/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-03-04 13:35:44.396 +00:00 [INF] Now listening on: http://localhost:5186
2024-03-04 13:35:44.397 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-04 13:35:44.397 +00:00 [INF] Hosting environment: Development
2024-03-04 13:35:44.397 +00:00 [INF] Content root path: /Users/joshuaaddai-marnu/Desktop/ShopSite.CW.WebApp
2024-03-04 13:38:30.806 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Order - application/json 232
2024-03-04 13:38:30.871 +00:00 [WRN] Failed to determine the https port for redirect.
2024-03-04 13:38:30.872 +00:00 [INF] HTTP POST /api/Order responded 404 in 1.4778 ms
2024-03-04 13:38:30.875 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Order - 404 0 null 69.1968ms
2024-03-04 13:38:30.877 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5186/api/Order, Response status code: 404
2024-03-04 13:38:49.757 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Order - application/json 232
2024-03-04 13:38:49.764 +00:00 [INF] HTTP POST /api/Order responded 404 in 0.1833 ms
2024-03-04 13:38:49.765 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Order - 404 0 null 7.9446ms
2024-03-04 13:38:49.765 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5186/api/Order, Response status code: 404
2024-03-04 13:38:52.750 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Orders - application/json 232
2024-03-04 13:38:52.762 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2024-03-04 13:38:52.765 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-03-04 13:38:52.766 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Orders - 403 0 null 15.1658ms
2024-03-04 13:40:54.559 +00:00 [INF] Application is shutting down...
2024-03-04 17:01:59.384 +00:00 [INF] User profile is available. Using '/Users/joshuaaddai-marnu/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-03-04 17:01:59.452 +00:00 [INF] Now listening on: http://localhost:5186
2024-03-04 17:01:59.453 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-04 17:01:59.454 +00:00 [INF] Hosting environment: Development
2024-03-04 17:01:59.454 +00:00 [INF] Content root path: /Users/joshuaaddai-marnu/Desktop/ShopSite.CW.WebApp
2024-03-04 17:02:21.557 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Roles - application/json 9
2024-03-04 17:02:21.587 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-03-04 17:02:21.589 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-04 17:02:21.592 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Roles - 401 0 null 35.7905ms
2024-03-05 02:58:10.541 +00:00 [INF] Application is shutting down...
2024-03-05 03:22:58.377 +00:00 [INF] User profile is available. Using '/Users/joshuaaddai-marnu/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-03-05 03:22:58.436 +00:00 [INF] Now listening on: http://localhost:5186
2024-03-05 03:22:58.439 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-05 03:22:58.440 +00:00 [INF] Hosting environment: Development
2024-03-05 03:22:58.440 +00:00 [INF] Content root path: /Users/joshuaaddai-marnu/Desktop/ShopSite.CW.WebApp
2024-03-05 03:23:36.258 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Products - null null
2024-03-05 03:23:36.294 +00:00 [WRN] Failed to determine the https port for redirect.
2024-03-05 03:23:36.295 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.Getproducts (ShopSite.CW.WebApp)'
2024-03-05 03:23:36.303 +00:00 [INF] Route matched with {action = "Getproducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ShopSite.CW.WebApp.Models.Product]]] Getproducts() on controller ShopSite.CW.WebApp.Controllers.ProductsController (ShopSite.CW.WebApp).
2024-03-05 03:23:36.838 +00:00 [ERR] An error occurred using the connection to database 'main' on server 'Data/shop.db.Sqlite'.
2024-03-05 03:23:36.843 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ShopSite.CW.WebApp.Models.ShopContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 14: 'unable to open database file'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)
   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetConnection(SqliteConnection outerConnection)
   at Microsoft.Data.Sqlite.SqliteConnection.Open()
   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 14: 'unable to open database file'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)
   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetConnection(SqliteConnection outerConnection)
   at Microsoft.Data.Sqlite.SqliteConnection.Open()
   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-03-05 03:23:36.846 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.ProductsController.Getproducts (ShopSite.CW.WebApp) in 541.6679ms
2024-03-05 03:23:36.847 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.Getproducts (ShopSite.CW.WebApp)'
2024-03-05 03:23:36.848 +00:00 [ERR] HTTP GET /api/Products responded 500 in 554.8785 ms
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 14: 'unable to open database file'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)
   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetConnection(SqliteConnection outerConnection)
   at Microsoft.Data.Sqlite.SqliteConnection.Open()
   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ShopSite.CW.WebApp.Controllers.ProductsController.Getproducts() in /Users/joshuaaddai-marnu/Desktop/ShopSite.CW.WebApp/Controllers/ProductsController.cs:line 23
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-03-05 03:23:36.852 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 14: 'unable to open database file'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)
   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetConnection(SqliteConnection outerConnection)
   at Microsoft.Data.Sqlite.SqliteConnection.Open()
   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ShopSite.CW.WebApp.Controllers.ProductsController.Getproducts() in /Users/joshuaaddai-marnu/Desktop/ShopSite.CW.WebApp/Controllers/ProductsController.cs:line 23
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-05 03:23:36.862 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Products - 500 null text/plain; charset=utf-8 604.322ms
2024-03-05 03:24:35.920 +00:00 [INF] Application is shutting down...
2024-03-05 03:24:39.188 +00:00 [INF] User profile is available. Using '/Users/joshuaaddai-marnu/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-03-05 03:24:39.237 +00:00 [INF] Now listening on: http://localhost:5186
2024-03-05 03:24:39.238 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-05 03:24:39.239 +00:00 [INF] Hosting environment: Development
2024-03-05 03:24:39.239 +00:00 [INF] Content root path: /Users/joshuaaddai-marnu/Desktop/ShopSite.CW.WebApp
2024-03-05 03:24:45.349 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Products - null null
2024-03-05 03:24:45.381 +00:00 [WRN] Failed to determine the https port for redirect.
2024-03-05 03:24:45.382 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.Getproducts (ShopSite.CW.WebApp)'
2024-03-05 03:24:45.390 +00:00 [INF] Route matched with {action = "Getproducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ShopSite.CW.WebApp.Models.Product]]] Getproducts() on controller ShopSite.CW.WebApp.Controllers.ProductsController (ShopSite.CW.WebApp).
2024-03-05 03:24:45.823 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."ProductId", "p"."CategoryId", "p"."CreatedOn", "p"."Description", "p"."ImageData", "p"."ImageMimeType", "p"."Name", "p"."Price", "p"."StockQuantity", "p"."SupplierId", "s"."SupplierId", "s"."Address", "s"."ContactEmail", "s"."ContactName", "s"."Name", "s"."Phone", "c"."CategoryId", "c"."Description", "c"."Name"
FROM "products" AS "p"
LEFT JOIN "suppliers" AS "s" ON "p"."SupplierId" = "s"."SupplierId"
LEFT JOIN "Categories" AS "c" ON "p"."CategoryId" = "c"."CategoryId"
2024-03-05 03:24:45.876 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShopSite.CW.WebApp.Models.Product, ShopSite.CW.WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-05 03:24:45.896 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.ProductsController.Getproducts (ShopSite.CW.WebApp) in 504.4854ms
2024-03-05 03:24:45.896 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.Getproducts (ShopSite.CW.WebApp)'
2024-03-05 03:24:45.897 +00:00 [INF] HTTP GET /api/Products responded 200 in 517.2234 ms
2024-03-05 03:24:45.900 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Products - 200 null application/json; charset=utf-8 552.2803ms
2024-03-05 05:29:56.172 +00:00 [INF] User profile is available. Using '/Users/joshuaaddai-marnu/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-03-05 05:29:56.222 +00:00 [INF] Now listening on: http://localhost:5186
2024-03-05 05:29:56.223 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-05 05:29:56.223 +00:00 [INF] Hosting environment: Development
2024-03-05 05:29:56.223 +00:00 [INF] Content root path: /Users/joshuaaddai-marnu/Desktop/ShopSite.CW.WebApp
2024-03-05 05:30:37.917 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Products - null null
2024-03-05 05:30:37.945 +00:00 [WRN] Failed to determine the https port for redirect.
2024-03-05 05:30:37.947 +00:00 [INF] Executing endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.Getproducts (ShopSite.CW.WebApp)'
2024-03-05 05:30:37.954 +00:00 [INF] Route matched with {action = "Getproducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ShopSite.CW.WebApp.Models.Product]]] Getproducts() on controller ShopSite.CW.WebApp.Controllers.ProductsController (ShopSite.CW.WebApp).
2024-03-05 05:30:38.386 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."ProductId", "p"."CategoryId", "p"."CreatedOn", "p"."Description", "p"."ImageData", "p"."ImageMimeType", "p"."Name", "p"."Price", "p"."StockQuantity", "p"."SupplierId", "s"."SupplierId", "s"."Address", "s"."ContactEmail", "s"."ContactName", "s"."Name", "s"."Phone", "c"."CategoryId", "c"."Description", "c"."Name"
FROM "products" AS "p"
LEFT JOIN "suppliers" AS "s" ON "p"."SupplierId" = "s"."SupplierId"
LEFT JOIN "Categories" AS "c" ON "p"."CategoryId" = "c"."CategoryId"
2024-03-05 05:30:38.437 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShopSite.CW.WebApp.Models.Product, ShopSite.CW.WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-05 05:30:38.454 +00:00 [INF] Executed action ShopSite.CW.WebApp.Controllers.ProductsController.Getproducts (ShopSite.CW.WebApp) in 498.6175ms
2024-03-05 05:30:38.455 +00:00 [INF] Executed endpoint 'ShopSite.CW.WebApp.Controllers.ProductsController.Getproducts (ShopSite.CW.WebApp)'
2024-03-05 05:30:38.455 +00:00 [INF] HTTP GET /api/Products responded 200 in 510.2618 ms
2024-03-05 05:30:38.458 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Products - 200 null application/json; charset=utf-8 541.6743ms
2024-03-05 05:30:53.165 +00:00 [INF] Application is shutting down...
2024-03-05 09:31:15.194 +00:00 [INF] User profile is available. Using '/Users/joshuaaddai-marnu/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-03-05 09:31:15.261 +00:00 [INF] Now listening on: http://localhost:5186
2024-03-05 09:31:15.262 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-05 09:31:15.263 +00:00 [INF] Hosting environment: Development
2024-03-05 09:31:15.263 +00:00 [INF] Content root path: /Users/joshuaaddai-marnu/Desktop/ShopSite.CW.WebApp
2024-03-05 09:31:19.607 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2024-03-05 09:31:19.672 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 65.7146ms
2024-03-05 09:31:19.830 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2024-03-05 09:31:19.891 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.6478ms
2024-03-05 09:34:20.725 +00:00 [INF] Application is shutting down...
2024-03-05 09:35:32.378 +00:00 [INF] User profile is available. Using '/Users/joshuaaddai-marnu/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-03-05 09:35:32.446 +00:00 [INF] Now listening on: http://localhost:5186
2024-03-05 09:35:32.447 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-05 09:35:32.447 +00:00 [INF] Hosting environment: Development
2024-03-05 09:35:32.447 +00:00 [INF] Content root path: /Users/joshuaaddai-marnu/Desktop/ShopSite.CW.WebApp
2024-03-05 09:37:15.994 +00:00 [INF] Application is shutting down...
